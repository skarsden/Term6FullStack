<form [formGroup]="vendorForm" (ngSubmit)="updateSelectedVendor()">
  <div layout="row">
    <mat-form-field>
      <input
        matInput
        placeholder="Address"
        type="text"
        required
        formControlName="address1"
        autofocus
      />
      <mat-error
        *ngIf="address1.errors && (address1.dirty || address1.touched)"
        align="end"
        >Address is required</mat-error
      >
    </mat-form-field>
  </div>
  <div layout="row">
    <mat-form-field>
      <input
        matInput
        placeholder="City"
        type="text"
        required
        formControlName="city"
      />
      <mat-error *ngIf="city.errors && (city.dirty || city.touched)" align="end"
        >City is required</mat-error
      >
    </mat-form-field>
  </div>
  <div layout="row">
    <mat-form-field>
      <mat-select
        matInput
        placeholder="Province"
        formControlName="province"
        flex
      >
        <mat-option value="On">Ontario</mat-option>
        <mat-option value="Qu">Quebec</mat-option>
        <mat-option value="Ab">Alberta</mat-option>
      </mat-select>
      <mat-error
        *ngIf="province.errors && (province.dirty || province.touched)"
        align="end"
        >Province is required</mat-error
      >
    </mat-form-field>
  </div>
  <div layout="row">
    <mat-form-field>
      <input
        matInput
        placeholder="Postal Code"
        type="text"
        required
        formControlName="postal"
      />
      <mat-error
        *ngIf="postal.errors && (postal.dirty || postal.touched)"
        align="end"
      >
        <p *ngIf="postal.hasError('required')">Postal Code is required</p>
        <p
          *ngIf="
            !postal.hasError('required') && postal.hasError('invalidPostal')
          "
        >
          Needs format - X#X-#X#
        </p>
      </mat-error>
    </mat-form-field>
  </div>
  <div layout="row">
    <mat-form-field>
      <input
        matInput
        placeholder="Phone #"
        type="text"
        required
        formControlName="phone"
      />
      <mat-error
        *ngIf="phone.errors && (phone.dirty || phone.touched)"
        align="end"
      >
        <p *ngIf="phone.hasError('required')">Phone Number is required</p>
        <p
          *ngIf="!phone.hasError('required') && phone.hasError('invalidPhone')"
        >
          Needs format - (###)###-####
        </p>
      </mat-error>
    </mat-form-field>
  </div>
  <div layout="row">
    <mat-form-field>
      <mat-select
        matInput
        placeholder="Vendor Type"
        formControlName="vendortype"
        flex
      >
        <mat-option value="Untrusted">Untrusted</mat-option>
        <mat-option value="Trusted">Trusted</mat-option>
        <mat-option value="Unknown">Unknown</mat-option>
      </mat-select>
      <mat-error
        *ngIf="vendortype.errors && (vendortype.dirty || vendortype.touched)"
        align="end"
        >Type is required</mat-error
      >
    </mat-form-field>
  </div>
  <div layout="row">
    <mat-form-field>
      <input
        matInput
        placeholder="Name"
        type="text"
        required
        formControlName="vendorname"
      />
      <mat-error
        *ngIf="vendorname.errors && (vendorname.dirty || vendorname.touched)"
        align="end"
        >Name is required</mat-error
      >
    </mat-form-field>
  </div>
  <div layout="row">
    <mat-form-field>
      <input
        matInput
        placeholder="Email"
        type="email"
        required
        formControlName="email"
      />
      <mat-error
        *ngIf="email.errors && (email.dirty || email.touched)"
        align="end"
      >
        <p *ngIf="email.hasError('required')">Email is Required</p>
        <p *ngIf="!email.hasError('required') && email.hasError('email')">
          Needs format - xx@xx.xx
        </p>
      </mat-error>
    </mat-form-field>
  </div>
  <div class="mat-pad-sm">
    <span>
      <button
        mat-raised-button
        type="button"
        (click)="updateSelectedVendor()"
        [disabled]="!vendorForm.valid"
      >
        Save
      </button>
    </span>
    <span>
      <button
        *ngIf="selectedVendor.id"
        mat-raised-button
        type="button"
        (click)="deleted.emit(selectedVendor)"
      >
        Delete
      </button>
    </span>
    <span>
      <button
        mat-raised-button
        type="button"
        (click)="cancelled.emit(selectedVendor)"
      >
        Cancel
      </button>
    </span>
  </div>
</form>
